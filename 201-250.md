## [238. Product of Array Except Self - Medium](https://leetcode.com/problems/product-of-array-except-self/)

```python
import functools

class Solution:
  def productExceptSelf(self, nums: List[int]) -> List[int]:
    # [TLE] Brute force
    # Time: O(n^2)
    # Space: O(n)
    ans = [0] * len(nums)
    for i in range(len(nums)):
      ans[i] = functools.reduce(lambda x, y: x*y, nums[0:i] + nums[i+1:], 1)
    return ans



class Solution:
  def productExceptSelf(self, nums: List[int]) -> List[int]:
    # [Accept] Count "0" element. Three different situations. Use division
    # 1. More than one "0"
    # 2. Only one "0"
    # 3. No "0"
    # Time: O(n)
    # Space: O(n)
    zero_index = []
    product = 1
    ans = [0] * len(nums)
    for i, n in enumerate(nums):
      if n == 0:
        zero_index.append(i)
        if len(zero_index) == 2:
          return ans
      else:
        product *= n

    if zero_index:
      assert(len(zero_index) == 1)
      ans[zero_index[0]] = product
      return ans
    for i, n in enumerate(nums):
      ans[i] = product // n
    return ans



class Solution:
  def productExceptSelf(self, nums: List[int]) -> List[int]:
    # [Accept] Two passes
    # Time: O(n)
    # Space: O(1), [ans] doesn't count
    ans = [1] * len(nums)
    tmp = nums[0]
    for i in range(1, len(nums)):
      ans[i] *= tmp
      tmp *= nums[i]
    tmp = nums[-1]
    for i in range(len(nums)-1)[::-1]:
      ans[i] *= tmp
      tmp *= nums[i]
    return ans
```